<div class='job-details-page mist-page-container' *ngIf="job">
  <div class='mist-page-header'>
    <div class='mist-page-header__row'>
      <a class='mist-link mist-link--big'
         [routerLink]="['../']">
        <i class='material-icons'>keyboard_backspace</i>
        Back to Jobs
      </a>
    </div>
    <div class='mist-page-header__row'>
      <i class='material-icons status-icon'
         [ngClass]="{'status-icon--failed': job.isFailed(),
        'status-icon--success': job.isFinished(),
        'status-icon--primary': job.isRunning()}">
      </i>
      <span class='job-id .h3'
            [ngClass]="{'font-color--failed': job.isFailed()}">
        {{ job.jobId }}
      </span>
      <button md-button
              class='clone-job-button mat-button--primary'>Clone Job
      </button>
    </div>
    <div fxLayout="row" fxLayoutAlign="space-between" class='mist-page-header__row mist-page-header__row--status'>

      <div class='job-version'>
        <span class='mist-label'>Version</span>
        <span>1.2.4</span>
      </div>
      <div  class='namespace'>
        <span class='namespace__label'>namespace</span>
        <span class='namespace__value'>{{ job.context }}</span>
      </div>
      <div class='job-status'>
        <span class='mist-label'>Status</span>
        <span [ngClass]="{'font-color--success': job.isFinished(),
          'font-color--primary': job.isRunning(),
          'font-color--failed': job.isFailed()}">
          {{ job.status }}
        </span>
      </div>
      <div>
        <span class='mist-label'>
          {{ job.isRunning() ? 'Started' : 'Finished' }}
        </span>
        <span>
          {{ job.isRunning() ? (job.createTime | agoDate) : (job.endTime | agoDate) }}
        </span>
      </div>
      <div class="cs-text-right">
        <a class='mist-link spark-ui'>
          <i class='material-icons'>link</i>
          <span>SPARK UI</span>
        </a>
      </div>
    </div>
  </div>
  <hr class="mist__separator--horizontal"/>
  <div class='mist-page-content'>
    <div fxLayout='row' fxLayoutAlign="center" class='job-container'>
      <div fxFlex="45" class='job-details cs-text-left'>
        <div class='mist-label'>
          Parameters
        </div>
        <div class='job-details__container'>
          <codemirror [ngModel]="job.params"
                      [config]="codeMirrorOptions">
          </codemirror>
          <span class='material-icons job-details__full-screen-icon'
                (click)="openFullScreenJson(job.params)">crop_free</span>
        </div>
      </div>
      <div fxFlex="10" class='icon-separator'>
        <mdl-icon>forward</mdl-icon>
      </div>
      <div fxFlex="45" class='job-details job-details--results cs-text-left'>
        <div class='mist-label'>
          Results
        </div>
        <div class='job-details__container'>
          <codemirror [ngModel]="job.jobResult"
                      [config]="codeMirrorOptions">
          </codemirror>
          <span class='material-icons job-details__full-screen-icon'
                (click)="openFullScreenJson(job.jobResult)">crop_free</span>
        </div>
      </div>
    </div>
    <md-tab-group>
      <md-tab label='Clone with HTTPS'>
        <div fxLayout="row" fxLayoutAlign="center" class='git-clone-input git-clone-input--icon'>
          <mist-input-text wrapClass="input-text--copy-link" fxFlex="50" class="input-text--copy-link" placeholder="https://github.com/Hydrospheredata/mist.git"
                           iconName="content_copy"
                           iconDirection="right">
          </mist-input-text>
        </div>
      </md-tab>
      <md-tab label='Java code snippet'>Java code snippet</md-tab>
      <md-tab label='Python code snippet'>Python code snippet</md-tab>
      <md-tab label='Ruby code snippet'>Ruby code snippet</md-tab>
    </md-tab-group>
  </div>
</div>
