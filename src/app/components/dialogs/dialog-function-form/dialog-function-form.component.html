<div class="add-function">

  <mist-alert></mist-alert>
  <form *ngIf="!isCreateContextFormVisiblie" [formGroup]="functionForm" #form="ngForm" (ngSubmit)="submitFunctionForm(functionForm)">
    <h1 class="mdl-dialog__title mat-dialog-title">{{formTitle}}</h1>
    <div class="mdl-dialog__content">

      <div class="mdl-grid">
        <div class="mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet">
          <mist-input-text class="control-label " label="Name *" readonly="{{functionNameReadOnly}}" [formErrors]="formErrors.name"
            formControlName="name">
          </mist-input-text>
          <mist-input-text class="control-label " label="Path *" placeholder="/target/mist-0.12.3-1.5.2/mist-examples-spark1.jar" [formErrors]="formErrors.path"
            formControlName="path" iconName="device_hub" iconDirection="right">
          </mist-input-text>
          <mist-input-text class="" label="Class *" placeholder="StreamingTextSearch$" formControlName="className">
          </mist-input-text>
          <div>
            <label class="control-label">Context</label>
            <div fxLayout="row" fxLayoutAlign="start center">
              <mdl-select formControlName="defaultContext" [(ngModel)]="defaultContext">
                <mdl-option *ngFor="let context of (contexts$ | async)" [value]="context.name">{{context.name}}</mdl-option>
              </mdl-select>
              <mdl-icon title="Add context" class="cs-cursor-pointer mdl-color-text--light-blue-700 cs-ml-16" (click)="showDialogContext()">add_circle
              </mdl-icon>
            </div>
          </div>
        </div>
      </div>
      <div class="mdl-grid">
        <div class="mdl-cell mdl-cell--12-col cs-text-right">
          <button (click)="dialogRef.hide()" type="button" mdl-button class='mat-button mat-button--big'>CANCEL</button>
          <button type="submit" mdl-button [disabled]="functionForm.invalid" class='mat-button mat-button--big mat-button--primary'
            mdl-button-type="raised" mdl-colored="primary" mdl-ripple>{{formTitle}}
          </button>
        </div>
      </div>
    </div>
  </form>

</div>